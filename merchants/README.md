# garantex_crypto_code
garantex crypto code premiumexchanger addon
more info ==> @ddnitecry
<p>1. Пройдите регистрацию/авторизацию в системе Garantex.io.

2. В личном кабинете на сайте Garantex.io получите необходимые API ключи для работы.

3. В панели управления обменным пунктом в разделе Мерчанты → Мерчанты → найдите мерчант Garantex в таблице  и нажмите на ссылку "настройки":

В блоке "Настройки модуля" укажите необходимые данные вашего аккаунта Garantex и сохраните изменения.

Далее выполните настройки мерчанта:

    В поле«Инструкция по оплате для пользователя» следует указать рекомендации по оплате для клиента, которые будут доступны ему на странице с кнопкой «Перейти к оплате».
    В поле "Погрешность суммы платежа" при необходимости укажите погрешность (число) и тогда мерчант будет проверять сумму оплаты от клиента с заданной погрешностью в меньшую строну. Например задана погрешность 0.5. Клиент должен оплатить 50 USD, но по ошибке оплатил 49.9 USD. При проверке мерчантом данный платеж будет засчитан, т.к. недоплата составила 0.1 USD, что укладывается в рамки заданной погрешности 0.5.
    В поле "Суточный лимит для мерчанта" при необходимости установите суточный лимит на прием средств для мерчанта. Мерчант не сможете принять оплату больше заданного лимита.
    В поле "Месячный лимит для мерчанта" при необходимости установите месячный лимит на прием средств для мерчанта. Мерчант не сможете принять оплату больше заданного лимита.
    В поле "Макс. сумма платежа для одной заявки" при необходимости установите максимальную сумма платежа для одной заявки. Мерчант не сможете принять оплату больше заданного лимита.
    Для параметра «Тип» установите «Нестандартная комиссия мерчанта», если платежная система берет комиссию с обменного пункта за входящий платеж. В остальных случаях установите «Стандартная комиссия мерчанта».
    Внимание! В поле "Разрешенные IP адреса и маски (с новой строки)" обязательно задайте IP адрес(а) платежной системы, которому(-ым) разрешен доступ к статусному URL мерчанта. На данный URL платежная система присылает информацию о платеже. Если задать разрешенные IP адреса, то это повышает безопасность мерчанта. IP адрес платежной системы с которого она присылает информацию о платеже на статусный URL, можно узнать в технической поддержке платежной системы или на их сайте.
    Внимание! В поле "Хэш для Status/Result URL" обязательно задайте хэш, который дополнит статусный URL мерчанта. На данный URL платежная система присылает информацию о платеже. Если задать хэш, то статусный URL становится уникальным, что повышает безопасность мерчанта. Рекомендуем использовать хэш длиной не менее 50 символов, содержащий латинские буквы и цифры. Пример хэша ImYkwGjhuWyNasq2fdQJzVvCpis8umbx. При настройке мерчант на стороне платежной системы в качестве статусного адреса (как правило это Status URL или Return URL) указывайте URL уже с заданным хэшом.
    Для параметра "Режим отладки" установите "Да" если хотите разрешить вывод ошибок, которые могут возникать при работе мерчанта. Ошибки могут содержать системные данные и их могут видеть пользователи на сайте. Рекомендуется использовать данную опцию только при настройке и тестировании сайта.
    Опция «Устанавливать статус заявки "На проверке" когда» позволит присваивать статус «На проверке» для заявки, если: номер счета с которого была сделана оплата не совпадает с указанным в заявке, неверный код валюты (оплачено не в той валюте), сумма платежа меньше чем требуется, сумма платежа больше чем требуется.
    Для параметра "Показать QR код на странице оплаты" установите "Да", если хотите отобразить QR код для сканирования адреса оплаты.
    Для параметра "Требуемое количество подтверждений транзакции" установите кол-во подтверждений, после которой заявка будет считаться оплаченной.

4. В панели управления обменным пунктом в разделе «Направление обменов» создайте новое направление или отредактируйте существующее. Перейдите на вкладу «Мерчанты и выплаты» и для параметра «Мерчант» выберите Garantex. Сохраните изменения.

5. Настройте планировщик задач (cron), который будет выполнять проверку поступление оплаты от клиента и изменять статус заявки. Скрипт можно запускать каждую минуту. Пример команды для планировщика задач в Unix-формате для панели управления ISP Manager.
1
	
/usr/bin/wget -t 1 -O - http://ваш_домен/merchant-garantex_crypto_code_cron.html
Примечание: для каждого сервера команда из примера может иметь другой вид. Изменения касаются данной части команды «/usr/bin/wget -t 1 -O — ». Правильную команду вы можете уточнит у технической поддержки своего хостинга.
